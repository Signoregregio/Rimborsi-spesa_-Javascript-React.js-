{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ls96\\\\Desktop\\\\Programming\\\\Stage\\\\2 parte\\\\rimborso-spese\\\\src\\\\Components\\\\RegisterPageComponents\\\\RegisterForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./registerForm.css\";\nimport { hasRegistered, registerNewUser } from \"../../API/fetchFunc\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterForm(_ref) {\n  _s();\n  let {\n    setDisabled\n  } = _ref;\n  const [formElements, getFormElements] = useState({\n    createdAt: \"\",\n    name: \"\",\n    username: \"\",\n    role: \"\",\n    password: \"\",\n    passwordRepeat: \"\"\n  });\n  function handleFormChange(event) {\n    const fieldName = event.target.name;\n    const fieldValue = event.target.value;\n    console.log();\n    const newElement = {\n      ...formElements\n    };\n    newElement[fieldName] = fieldValue;\n    getFormElements(newElement);\n  }\n  async function handleFormSubmit(event) {\n    event.preventDefault();\n    setDisabled(true);\n    if (formElements.password !== formElements.passwordRepeat) {\n      //errore le password non coincidono\n      setDisabled(false);\n      return console.log(\"Password non coincidono\");\n    }\n    if (await hasRegistered(formElements.username)) {\n      //set div error\n      setDisabled(false);\n      return console.log(\"User already taken\");\n    }\n    let date = new Date();\n    console.log(\"Registrazione utente \" + formElements.username + \" con password \" + formElements.password + \" in data: \" + date);\n    const userData = {\n      ...formElements\n    };\n    userData['createdAt'] = date;\n    await registerNewUser(userData);\n    setDisabled(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"divFormMonth\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Inserisci i dati: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputLogin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          type: \"text\",\n          className: \"inputUsername\",\n          onChange: handleFormChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputLogin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          className: \"inputUsername\",\n          onChange: handleFormChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputLogin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Ruolo :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"role\",\n          onChange: handleFormChange,\n          defaultValue: \"Inserire il ruolo\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            children: \"Inserire il ruolo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Segretaria\",\n            children: \"Segretario/a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Dipendente\",\n            children: \"Dipendente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Manager\",\n            children: \"Manager\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Presidente\",\n            children: \"Presidente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputLogin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          type: \"password\",\n          className: \"inputPassword\",\n          placeholder: \"Password...\",\n          onChange: handleFormChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputLogin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Repeat password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"passwordRepeat\",\n          type: \"password\",\n          className: \"inputPassword\",\n          placeholder: \"Password...\",\n          onChange: handleFormChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"loginBtn\",\n        onClick: handleFormSubmit,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this);\n}\n_s(RegisterForm, \"5vE7NJ54PPZPREypieptiMsl3Wg=\");\n_c = RegisterForm;\nvar _c;\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"names":["useState","hasRegistered","registerNewUser","RegisterForm","setDisabled","formElements","getFormElements","createdAt","name","username","role","password","passwordRepeat","handleFormChange","event","fieldName","target","fieldValue","value","console","log","newElement","handleFormSubmit","preventDefault","date","Date","userData"],"sources":["C:/Users/ls96/Desktop/Programming/Stage/2 parte/rimborso-spese/src/Components/RegisterPageComponents/RegisterForm.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./registerForm.css\";\r\nimport { hasRegistered, registerNewUser } from \"../../API/fetchFunc\";\r\n\r\nexport default function RegisterForm({setDisabled}) {\r\n\tconst [formElements, getFormElements] = useState({\r\n\t\tcreatedAt: \"\",\r\n\t\tname: \"\",\r\n\t\tusername: \"\",\r\n\t\trole: \"\",\r\n\t\tpassword: \"\",\r\n\t\tpasswordRepeat: \"\",\r\n\t});\r\n\r\n\r\n\tfunction handleFormChange(event) {\r\n\r\n\t\tconst fieldName = event.target.name;\r\n\t\tconst fieldValue = event.target.value;\r\n\t\tconsole.log()\r\n\t\tconst newElement = {...formElements}\r\n\t\tnewElement[fieldName] = fieldValue;\r\n\r\n\t\tgetFormElements(newElement);\r\n\t}\r\n\r\n\tasync function handleFormSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tsetDisabled(true)\r\n\t\tif(formElements.password !== formElements.passwordRepeat){\r\n\t\t\t//errore le password non coincidono\r\n\t\t\tsetDisabled(false)\r\n\t\t\treturn console.log(\"Password non coincidono\")\r\n\t\t}\r\n\t\tif(await hasRegistered(formElements.username)){\r\n\t\t\t//set div error\r\n\t\t\tsetDisabled(false)\r\n\t\t\treturn console.log(\"User already taken\")\r\n\t\t}\t\r\n\t\tlet date = new Date;\r\n\t\tconsole.log(\"Registrazione utente \" + formElements.username + \" con password \" + formElements.password + \" in data: \" + date)\r\n\t\tconst userData = {...formElements}\r\n\t\tuserData['createdAt'] = date; \r\n\t\tawait registerNewUser(userData);\r\n\t\tsetDisabled(false)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"divFormMonth\">\r\n\t\t\t\t<h2> Inserisci i dati: </h2>\r\n\t\t\t\t<div className=\"inputLogin\">\r\n\t\t\t\t\t<label>Username:</label>\r\n\t\t\t\t\t<input name=\"username\" type=\"text\" className=\"inputUsername\" onChange={handleFormChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inputLogin\">\r\n\t\t\t\t\t<label>Name:</label>\r\n\t\t\t\t\t<input name=\"name\" type=\"text\" className=\"inputUsername\" onChange={handleFormChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inputLogin\">\r\n\t\t\t\t\t<label>Ruolo :</label>\r\n\t\t\t\t\t<select name=\"role\" onChange={handleFormChange} defaultValue={\"Inserire il ruolo\"}>\r\n\t\t\t\t\t\t<option disabled>Inserire il ruolo</option>\r\n\t\t\t\t\t\t<option value=\"Segretaria\">Segretario/a</option>\r\n\t\t\t\t\t\t<option value=\"Dipendente\">Dipendente</option>\r\n\t\t\t\t\t\t<option value=\"Manager\">Manager</option>\r\n\t\t\t\t\t\t<option value=\"Presidente\">Presidente</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inputLogin\">\r\n\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tclassName=\"inputPassword\"\r\n\t\t\t\t\t\tplaceholder=\"Password...\"\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inputLogin\">\r\n\t\t\t\t\t<label>Repeat password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"passwordRepeat\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tclassName=\"inputPassword\"\r\n\t\t\t\t\t\tplaceholder=\"Password...\"\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"loginBtn\" onClick={handleFormSubmit}>Register</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}